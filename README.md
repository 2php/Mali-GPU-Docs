# 前言

---

我之前是做deep learning framework的，同样的代码，在Mali GPU上比在Adreno GPU 上慢几十倍。鉴于两者的硬件差距应该没有这么大，我觉得可能是驱动的问题。作为和kernel直接打交道的东西，驱动我实在是搞不明白。但是现在弄不明白，不见得将来就能弄明白啊，lol。为了克服自己的皮，以及想当作一个笔记，我决定写一本书叫《年子》（《日子》和《月子》的续集）来记录我对GPU kernel的理解和认识。由于我在看driver代码的时候才发现自己不是很懂Linux那一套，这本书可能会repeat Linux的一部分内容，希望大神们见谅。

GPU driver需要处理很多东西，首先需要把GPU注册到系统里，其次还要能接受你提交的任务，内部应该还有一个scheduler去schedule所有的tasks。由于每一项都涉及很多步骤，我会用流程图给表示出来，并且还会加上必要的讲解，以防止我忘了是咋回事儿。我会保持风趣活泼的行文风格，好吧，我承认我就是个自以为自己是逗逼的无聊男。

鉴于现在只有我一个读者，并且我懂得一些中文，所有我决定使用这种半土不洋的语言。如果有一天这本书火了，三体人还没有打到地球，那么我会考虑把他翻译成英文。

差点忘了一点，鉴于我是个半吊子爱好者，这本书可能会有错误的地方，但我会尽量保证它的正确性并且附加适当的reference。如果你发现任何错误，十分感谢能写个email给我，让我别继续丢人。

另外我女朋友问我能不能把这本书献给她，那么，应该是能得。

